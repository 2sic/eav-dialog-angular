!function(t){var e={};function n(o){if(e[o])return e[o].exports;var i=e[o]={i:o,l:!1,exports:{}};return t[o].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(o,i,function(e){return t[e]}.bind(null,i));return o},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(t,e,n){"use strict";n.r(e);class o{svc(){return{cdnRoot:"//cdn.tinymce.com/4",imgSizes:[100,75,70,66,60,50,40,33,30,25,10],defaultLanguage:"en",languages:"de,es,fr,it,uk,nl".split(","),plugins:["code","contextmenu","autolink","tabfocus","image","link","paste","anchor","charmap","hr","media","nonbreaking","searchreplace","table","lists","textpattern"],validateAlso:"@[class],i,hr[sxc|guid]"}}buildModes(t){return{standard:{menubar:!1,toolbar:" undo redo removeformat | bold formatgroup | h1 h2 hgroup | listgroup | linkfiles linkgroup | "+(t.enableContentBlocks?" addcontentblock ":"")+"modeadvanced ",contextmenu:"charmap hr"+(t.enableContentBlocks?" addcontentblock":"")},advanced:{menubar:!0,toolbar:" undo redo removeformat | styleselect | bold italic | h1 h2 hgroup | bullist numlist outdent indent | images linkfiles linkgrouppro | code modestandard ",contextmenu:"link image | charmap hr adamimage"}}}getDefaultOptions(t){var e=this.buildModes(t),n=this.svc();return{baseURL:n.cdnRoot,inline:!0,automatic_uploads:!1,modes:e,menubar:e.standard.menubar,toolbar:e.standard.toolbar,plugins:n.plugins.join(" "),contextmenu:e.standard.contextmenu,autosave_ask_before_unload:!1,paste_as_text:!0,extended_valid_elements:this.svc.validateAlso,custom_elements:"hr",relative_urls:!1,default_link_target:"_blank",object_resizing:!1,skin:"lightgray",theme:"modern",language:n.defaultLanguage,debounce:!1}}}function i(t,e,n){function o(t){return function(){var n=this;function o(){e.formatter.formatChanged(t,function(t){n.active(t)})}e.formatter?o():e.on("init",o())}}(e=e).on("init",function(){!function(t,e){for(var o={},i=0;i<n.length;i++)o["imgwidth"+n[i]]=[{selector:"img",collapsed:!1,styles:{width:n[i]+"%"}}];t.formatter.register(o)}(e)});var i={type:"splitbutton",icon:"link",title:"Link",onPostRender:o("link"),onclick:function(){e.execCommand("mceLink")},menu:[{icon:"link",text:"Link",onclick:function(){e.execCommand("mceLink")}},{text:"Link.Page",tooltip:"Link.Page.Tooltip",icon:" eav-icon-sitemap",onclick:function(){t.openDnnDialog("pagepicker")}}]},a={...i};function c(t){e.settings.toolbar=e.settings.modes[t].toolbar,e.settings.menubar=e.settings.modes[t].menubar,e.theme.panel.remove(),e.theme.renderUI(e),e.execCommand("mceFocus"),document.getElementById("dummyfocus").focus(),setTimeout(function(){e.focus()},100)}a.menu.push({icon:" eav-icon-anchor",text:"Anchor",tooltip:"Link.Anchor.Tooltip",onclick:function(){e.execCommand("mceAnchor")}}),e.addButton("linkgroup",i),e.addButton("linkgrouppro",a),e.addButton("images",{type:"splitbutton",text:"",icon:"image",onclick:function(){t.toggleAdam(!0)},menu:[{text:"Image.AdamImage",tooltip:"Image.AdamImage.Tooltip",icon:"image",onclick:function(){t.toggleAdam(!0)}},{text:"Image.DnnImage",tooltip:"Image.DnnImage.Tooltip",icon:"image",onclick:function(){t.toggleAdam(!0,!0)}},{text:"Insert/edit image",icon:"image",onclick:function(){e.execCommand("mceImage")}},{icon:"alignleft",tooltip:"Align left",onclick:function(){e.execCommand("JustifyLeft")}},{icon:"aligncenter",tooltip:"Align center",onclick:function(){e.execCommand("JustifyCenter")}},{icon:"alignright",tooltip:"Align right",onclick:function(){e.execCommand("JustifyRight")}}]}),e.addButton("formatgroup",{type:"splitbutton",tooltip:"Italic",text:"",icon:"italic",cmd:"italic",onPostRender:o("italic"),menu:[{icon:"strikethrough",text:"Strikethrough",onclick:function(){e.execCommand("strikethrough")}},{icon:"superscript",text:"Superscript",onclick:function(){e.execCommand("superscript")}},{icon:"subscript",text:"Subscript",onclick:function(){e.execCommand("subscript")}}]}),e.addButton("listgroup",{type:"splitbutton",tooltip:"Numbered list",text:"",icon:"numlist",cmd:"InsertOrderedList",onPostRender:o("numlist"),menu:[{icon:"bullist",text:"Bullet list",onPostRender:o("bullist"),onclick:function(){e.execCommand("InsertUnorderedList")}},{icon:"outdent",text:"Outdent",onclick:function(){e.execCommand("Outdent")}},{icon:"indent",text:"Indent",onclick:function(){e.execCommand("Indent")}}]}),e.addButton("modestandard",{icon:" eav-icon-cancel",tooltip:"SwitchMode.Standard",onclick:function(){c("standard")}}),e.addButton("modeadvanced",{icon:" eav-icon-pro",tooltip:"SwitchMode.Pro",onclick:function(){c("advanced")}}),[["pre","Preformatted","Preformatted"],["p","Paragraph","Paragraph"],["code","Code","Code"],["h1","Heading 1","H1"],["h2","Heading 2","H2"],["h3","Heading 3","H3"],["h4","Heading 4","Heading 4"],["h5","Heading 5","Heading 5"],["h6","Heading 6","Heading 6"]].forEach(function(t){e.addButton(t[0],{tooltip:t[1],text:t[2],onclick:function(){e.execCommand("mceToggleFormat",!1,t[0])},onPostRender:function(){var n=this,o=function(){e.formatter.formatChanged(t[0],function(t){n.active(t)})};e.formatter?o():e.on("init",o)}})}),e.addButton("hgroup",Object.assign({},e.buttons.h3,{type:"splitbutton",menu:[e.buttons.h4,e.buttons.h5,e.buttons.h6,e.buttons.p]})),e.addButton("addcontentblock",{icon:" eav-icon-content-block",classes:"btn-addcontentblock",tooltip:"ContentBlock.Add",onclick:function(){var t=Math.uuid().toLowerCase();e.insertContent('<hr sxc="sxc-content-block" guid="'+t+'" />')}}),e.addButton("alignimgleft",{icon:" eav-icon-align-left",tooltip:"Align left",cmd:"JustifyLeft",onPostRender:o("alignleft")}),e.addButton("alignimgcenter",{icon:" eav-icon-align-center",tooltip:"Align center",cmd:"justifycenter",onPostRender:o("aligncenter")}),e.addButton("alignimgright",{icon:" eav-icon-align-right",tooltip:"Align right",cmd:"justifyright",onPostRender:o("alignright")});var l=[];function r(t){return function(){e.formatter.apply("imgwidth"+t)}}for(var s=0;s<n.length;s++){var d={icon:" eav-icon-resize-horizontal",tooltip:n[s]+"%",text:n[s]+"%",onclick:r(n[s]),onPostRender:o("imgwidth"+n[s])};e.addButton("imgresize"+n[s],d),l.push(d)}function u(t){return function(n){return e.dom.is(n,t)&&e.getBody().contains(n)}}e.addButton("resizeimg100",{icon:" eav-icon-resize-horizontal",tooltip:"100%",onclick:function(){e.formatter.apply("imgwidth100")},onPostRender:o("imgwidth100")}),e.addButton("imgresponsive",Object.assign({},e.buttons.resizeimg100,{type:"splitbutton",menu:l})),e.addContextToolbar(u("a"),"link unlink"),e.addContextToolbar(u("img"),"image | alignimgleft alignimgcenter alignimgright imgresponsive | removeformat | remove"),e.addContextToolbar(u("li,ol,ul"),"bullist numlist | outdent indent")}!function(){class t{constructor(t,e,n,o){this.name=t,this.host=e,this.options=n,this.config=o}initialize(t,e){this.host=t,this.options=e,console.log("myComponent initialize",this.host)}render(t,e){console.log("container.innerHTML name:",e),console.log("container.innerHTML name:",t),t.innerHTML='<div class="wrap-float-label">\n            <div id="mytextarea'+e+'" class="field-string-wysiwyg-mce-box wrap-float-label"></div>\n            </div>';var n={selector:"#mytextarea"+e,setup:this.tinyMceInitCallback.bind(this)},o=Object.assign(n,this.config.getDefaultOptions({enableContentBlocks:!1,auto_focus:!1}));console.log("options"),console.table(o),tinymce.init(o)}changeCheck(t,e){console.log("changeCheck event",t),console.log("changeCheck value",e),this.validateValue(e)&&this.host.update(e)}validateValue(t){return!0}writeOptions(t,e,n,o){console.log("set disable",o),console.log("set disable 1",tinymce.get("mytextarea"+n)),console.log("set disable 2",tinymce.get("mytextarea"+n).mode);var i=tinymce.get("mytextarea"+n).readonly;o&&!i?tinymce.get("mytextarea"+n).setMode("readonly"):!o&&i&&(tinymce.get("mytextarea"+n).setMode("code"),tinymce.get("mytextarea"+n).setMode("code"))}writeValue(t,e,n){tinymce.get("mytextarea"+n).setContent(e)}tinyMceInitCallback(t){console.log("Editor1: "+t.id+" is now initialized."),console.log("Editor host: ",this.host);var e=this.config.svc().imgSizes;i(this.host,t,e),t.on("change",e=>{console.log("Editor was change",t.getContent()),this.changeCheck(e,t.getContent())})}}var e,n;window.addOn.register((e="tinymce-wysiwyg",n=new o,console.log("customTinymce",n),new t(e,null,null,n)))}()}]);