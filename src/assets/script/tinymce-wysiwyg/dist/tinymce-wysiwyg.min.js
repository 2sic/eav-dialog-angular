!function(t){var n={};function e(o){if(n[o])return n[o].exports;var i=n[o]={i:o,l:!1,exports:{}};return t[o].call(i.exports,i,i.exports,e),i.l=!0,i.exports}e.m=t,e.c=n,e.d=function(t,n,o){e.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:o})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,n){if(1&n&&(t=e(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(e.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var i in t)e.d(o,i,function(n){return t[n]}.bind(null,i));return o},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},e.p="",e(e.s=0)}([function(t,n,e){"use strict";e.r(n);class o{svc(){return{cdnRoot:"//cdn.tinymce.com/4",imgSizes:[100,75,70,66,60,50,40,33,30,25,10],defaultLanguage:"en",languages:"de,es,fr,it,uk,nl".split(","),plugins:["code","contextmenu","autolink","tabfocus","image","link","paste","anchor","charmap","hr","media","nonbreaking","searchreplace","table","lists","textpattern"],validateAlso:"@[class],i,hr[sxc|guid]"}}buildModes(t){return{standard:{menubar:!1,toolbar:" undo redo removeformat | bold formatgroup | h1 h2 hgroup | listgroup | linkfiles linkgroup | "+(t.enableContentBlocks?" addcontentblock ":"")+"modeadvanced ",contextmenu:"charmap hr"+(t.enableContentBlocks?" addcontentblock":"")},advanced:{menubar:!0,toolbar:" undo redo removeformat | styleselect | bold italic | h1 h2 hgroup | bullist numlist outdent indent | images linkfiles linkgrouppro | code modestandard ",contextmenu:"link image | charmap hr adamimage"}}}getDefaultOptions(t){var n=this.buildModes(t),e=this.svc();return{baseURL:e.cdnRoot,inline:!0,automatic_uploads:!1,modes:n,menubar:n.standard.menubar,toolbar:n.standard.toolbar,plugins:e.plugins.join(" "),contextmenu:n.standard.contextmenu,autosave_ask_before_unload:!1,paste_as_text:!0,extended_valid_elements:this.svc.validateAlso,custom_elements:"hr",relative_urls:!1,default_link_target:"_blank",object_resizing:!1,skin:"lightgray",theme:"modern",language:e.defaultLanguage,debounce:!1}}}function i(t,n,e){function o(t){return function(){var e=this;function o(){n.formatter.formatChanged(t,function(t){e.active(t)})}n.formatter?o():n.on("init",o())}}(n=n).on("init",function(){!function(t,n){for(var o={},i=0;i<e.length;i++)o["imgwidth"+e[i]]=[{selector:"img",collapsed:!1,styles:{width:e[i]+"%"}}];t.formatter.register(o)}(n)});var i={type:"splitbutton",icon:"link",title:"Link",onPostRender:o("link"),onclick:function(){n.execCommand("mceLink")},menu:[{icon:"link",text:"Link",onclick:function(){n.execCommand("mceLink")}},{text:"Link.Page",tooltip:"Link.Page.Tooltip",icon:" eav-icon-sitemap",onclick:function(){t.openDnnDialog("pagepicker")}}]},c={...i};function a(t){n.settings.toolbar=n.settings.modes[t].toolbar,n.settings.menubar=n.settings.modes[t].menubar,n.theme.panel.remove(),n.theme.renderUI(n),n.execCommand("mceFocus"),document.getElementById("dummyfocus").focus(),setTimeout(function(){n.focus()},100)}c.menu.push({icon:" eav-icon-anchor",text:"Anchor",tooltip:"Link.Anchor.Tooltip",onclick:function(){n.execCommand("mceAnchor")}}),n.addButton("linkgroup",i),n.addButton("linkgrouppro",c),n.addButton("images",{type:"splitbutton",text:"",icon:"image",onclick:function(){t.toggleAdam(!0)},menu:[{text:"Image.AdamImage",tooltip:"Image.AdamImage.Tooltip",icon:"image",onclick:function(){t.toggleAdam(!0)}},{text:"Image.DnnImage",tooltip:"Image.DnnImage.Tooltip",icon:"image",onclick:function(){t.toggleAdam(!0,!0)}},{text:"Insert/edit image",icon:"image",onclick:function(){n.execCommand("mceImage")}},{icon:"alignleft",tooltip:"Align left",onclick:function(){n.execCommand("JustifyLeft")}},{icon:"aligncenter",tooltip:"Align center",onclick:function(){n.execCommand("JustifyCenter")}},{icon:"alignright",tooltip:"Align right",onclick:function(){n.execCommand("JustifyRight")}}]}),n.addButton("formatgroup",{type:"splitbutton",tooltip:"Italic",text:"",icon:"italic",cmd:"italic",onPostRender:o("italic"),menu:[{icon:"strikethrough",text:"Strikethrough",onclick:function(){n.execCommand("strikethrough")}},{icon:"superscript",text:"Superscript",onclick:function(){n.execCommand("superscript")}},{icon:"subscript",text:"Subscript",onclick:function(){n.execCommand("subscript")}}]}),n.addButton("listgroup",{type:"splitbutton",tooltip:"Numbered list",text:"",icon:"numlist",cmd:"InsertOrderedList",onPostRender:o("numlist"),menu:[{icon:"bullist",text:"Bullet list",onPostRender:o("bullist"),onclick:function(){n.execCommand("InsertUnorderedList")}},{icon:"outdent",text:"Outdent",onclick:function(){n.execCommand("Outdent")}},{icon:"indent",text:"Indent",onclick:function(){n.execCommand("Indent")}}]}),n.addButton("modestandard",{icon:" eav-icon-cancel",tooltip:"SwitchMode.Standard",onclick:function(){a("standard")}}),n.addButton("modeadvanced",{icon:" eav-icon-pro",tooltip:"SwitchMode.Pro",onclick:function(){a("advanced")}}),[["pre","Preformatted","Preformatted"],["p","Paragraph","Paragraph"],["code","Code","Code"],["h1","Heading 1","H1"],["h2","Heading 2","H2"],["h3","Heading 3","H3"],["h4","Heading 4","Heading 4"],["h5","Heading 5","Heading 5"],["h6","Heading 6","Heading 6"]].forEach(function(t){n.addButton(t[0],{tooltip:t[1],text:t[2],onclick:function(){n.execCommand("mceToggleFormat",!1,t[0])},onPostRender:function(){var e=this,o=function(){n.formatter.formatChanged(t[0],function(t){e.active(t)})};n.formatter?o():n.on("init",o)}})}),n.addButton("hgroup",Object.assign({},n.buttons.h3,{type:"splitbutton",menu:[n.buttons.h4,n.buttons.h5,n.buttons.h6,n.buttons.p]})),n.addButton("addcontentblock",{icon:" eav-icon-content-block",classes:"btn-addcontentblock",tooltip:"ContentBlock.Add",onclick:function(){var t=Math.uuid().toLowerCase();n.insertContent('<hr sxc="sxc-content-block" guid="'+t+'" />')}}),n.addButton("alignimgleft",{icon:" eav-icon-align-left",tooltip:"Align left",cmd:"JustifyLeft",onPostRender:o("alignleft")}),n.addButton("alignimgcenter",{icon:" eav-icon-align-center",tooltip:"Align center",cmd:"justifycenter",onPostRender:o("aligncenter")}),n.addButton("alignimgright",{icon:" eav-icon-align-right",tooltip:"Align right",cmd:"justifyright",onPostRender:o("alignright")});var l=[];function r(t){return function(){n.formatter.apply("imgwidth"+t)}}for(var s=0;s<e.length;s++){var d={icon:" eav-icon-resize-horizontal",tooltip:e[s]+"%",text:e[s]+"%",onclick:r(e[s]),onPostRender:o("imgwidth"+e[s])};n.addButton("imgresize"+e[s],d),l.push(d)}function u(t){return function(e){return n.dom.is(e,t)&&n.getBody().contains(e)}}n.addButton("resizeimg100",{icon:" eav-icon-resize-horizontal",tooltip:"100%",onclick:function(){n.formatter.apply("imgwidth100")},onPostRender:o("imgwidth100")}),n.addButton("imgresponsive",Object.assign({},n.buttons.resizeimg100,{type:"splitbutton",menu:l})),n.addContextToolbar(u("a"),"link unlink"),n.addContextToolbar(u("img"),"image | alignimgleft alignimgcenter alignimgright imgresponsive | removeformat | remove"),n.addContextToolbar(u("li,ol,ul"),"bullist numlist | outdent indent")}!function(){class t{constructor(t,n,e,o){this.id=t,this.host=n,this.options=e,this.config=o}initialize(t,n,e){this.host=t,this.options=n,this.id=e,console.log("myComponent initialize",this.host)}render(t,n){console.log("render id:",this.id),t.innerHTML='<div class="wrap-float-label">\n            <div id="'+n+'" class="field-string-wysiwyg-mce-box wrap-float-label"></div>\n            </div>';var e={selector:"#"+n,setup:this.tinyMceInitCallback.bind(this)},o=Object.assign(e,this.config.getDefaultOptions({enableContentBlocks:!1,auto_focus:!1}));console.log("options"),console.table(o),tinymce.init(o)}changeCheck(t,n){console.log("changeCheck event",t),console.log("changeCheck value",n),this.validateValue(n)&&this.host.update(n)}validateValue(t){return!0}setOptions(t,n,e,o){console.log("setOptions config",n),console.log("setOptions options",this.options),console.log("setOptions id:",this.id),console.log("set disable 1",tinymce.get(e)),console.log("set disable 2",tinymce.get(e).mode);var i=tinymce.get(e).readonly;o&&!i?tinymce.get(e).setMode("readonly"):!o&&i&&tinymce.get(e).setMode("code")}setValue(t,n,e){console.log("setOptions id:",this.id),tinymce.get(e).setContent(n)}tinyMceInitCallback(t){console.log("Editor1: "+t.id+" is now initialized."),console.log("Editor host: ",this.host);var n=this.config.svc().imgSizes;i(this.host,t,n),t.on("change",n=>{console.log("Editor was change",t.getContent()),this.changeCheck(n,t.getContent())})}}var n,e;window.addOn.register((n="tinymce-wysiwyg",e=new o,console.log("customTinymce",e),new t(n,null,null,e)))}()}]);