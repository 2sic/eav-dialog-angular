<div>
  <mat-form-field [formGroup]="group" [style.width]="'100%'">
    <div matPrefix class="thumbnail-before-input icon-preview">
      <i class="glyphicon {{value}}"></i>
    </div>
    <input matInput type="text" [id]="id" class="form-control material" [formControlName]="config.name" [placeholder]="config.label"
      [required]="config.required" [matAutocomplete]="auto">
  </mat-form-field>
  <mat-autocomplete #auto="matAutocomplete">
    <mat-option *ngFor="let icn of icons" [value]="icn.class">
      <a (click)="setIcon(icn.class, config.name)">
        <i class="{{config.settings.PreviewCss.values[0].value}} {{icn.class}}"></i>
        <span>{{icn.class}}</span>
      </a>
    </mat-option>
  </mat-autocomplete>
</div>

<!-- <div>
  <div uib-dropdown uib-keyboard-nav auto-close="outsideClick" is-open="vm.selectorIsOpen">

    <div class="thumbnail-before-input icon-preview">
      <button type="button" class="" uib-tooltip="{{value.Value}}" uib-dropdown-toggle>
        <i class="{{vm.previewPrefix}} {{value.Value}}" ng-show="value.Value"></i>
        <span ng-show="!value.Value">&nbsp;&nbsp;</span>
      </button>
    </div>

    <div class="input-group" uib-dropdown-toggle>
      <input type="text" class="form-control input-lg" ng-model="value.Value" ng-disabled="false">
    </div>

    <ul class="dropdown-menu icons-menu-columns" role="menu" uib-dropdown-menu>
      <li class="input-group">
        <span class="input-group-addon btn-default btn" ng-click="vm.selectorIsOpen = false; value.Value = ''">
          <i class="eav-icon-cancel"></i>
        </span>
        <input type="search" ng-model="vm.iconFilter" class="form-control input-lg" placeholder="search..." />
      </li>

      <li ng-repeat="icn in vm.icons" role="menuitem" ng-show="icn.class.indexOf(vm.iconFilter) !== -1">
        <a ng-click="vm.setIcon(icn.class)" xng-click="value.Value = icn.class; vm.selectorIsOpen = false;">
          <i class="{{vm.previewPrefix}} {{icn.class}}"></i>
          <span uib-tooltip="{{icn.class}}">...{{icn.class.substring(vm.prefix.length-1,25)}}</span>
        </a>
      </li>
    </ul>

  </div>

  <div ng-if="vm.debug.on">Infos: found {{vm.icons.length}} items for prefix "{{vm.prefix}}" and will use "{{vm.previewPrefix}}" as a preview class.
    Selected is "{{value.Value}}" and files are: {{vm.files}}</div>
</div> -->