<div mat-dialog-container *ngIf="(items$ | async) && (items$ | async).length">
  <div mat-dialog-actions>
    <app-eav-language-switcher *ngIf="(languages$ | async).length > 0" [languages]="(languages$ | async)" class="eav-language-switcher-header"
      [currentLanguage]="(currentLanguage$ | async)" [formsAreValid]="formsAreValid"></app-eav-language-switcher>
  </div>
  <div mat-dialog-content class="u-no-scrollbar">
    <div class="mdc-layout-grid">
      <div class="mdc-layout-grid__inner">
        <div class="mdc-layout-grid__cell--span-12">
          <mat-error *ngIf="!formsAreValid">
            <span *ngFor="let formError of formErrors;">
              <p *ngFor="let key of Object.keys(formError)">{{key}}: {{ formError[key] | translate}}</p>
            </span>
          </mat-error>

          <div *ngFor="let item of (items$ | async); trackBy:trackByFn">
            <app-item-edit-form [item]="item" [currentLanguage]="(currentLanguage$ | async)" [defaultLanguage]="(defaultLanguage$ | async)"
              [features]="(features$ | async)" (itemFormValueChange)="formValueChange($event)"></app-item-edit-form>
          </div>
          <!-- ISDIRTY: {{formsAreDirty}} -->

          <!-- <button mat-icon-button type="button" [matMenuTriggerFor]="publishModeMenu" [ngClass]="{ 'disabled': !formsAreValid }">
            <i [ngClass]="{'eav-icon-eye': publishMode === 'show', 'eav-icon-eye-close': publishMode === 'hide', 'eav-icon-git-branch': publishMode === 'branch'}"></i>
            {{ 'SaveMode.' + publishMode | translate }}
            <i class="eav-icon-down-dir"></i>
          </button> -->

          <!-- <mat-menu #publishModeMenu="matMenu" [overlapTrigger]="false">
            <button *ngIf="versioningOptions.show" mat-menu-item type="button" (click)="publishMode = 'show'">
              <i class="eav-icon-eye"></i>{{ 'SaveMode.show' | translate }}</button>
            <button *ngIf="versioningOptions.hide" mat-menu-item type="button" (click)="publishMode = 'hide'">
              <i class="eav-icon-eye-close"></i>{{ 'SaveMode.hide' | translate }}</button>
            <button *ngIf="versioningOptions.branch" [disabled]="!enableDraft" mat-menu-item type="button" (click)="publishMode = 'branch'">
              <i class="eav-icon-git-branch"></i>{{ 'SaveMode.branch' |translate }}</button>
          </mat-menu> -->
        </div>
      </div>
    </div>

  </div>
  <div dir="rtl" class="c-multi-item-dialog--save-div">
    <div fxFlex="nogrow" class="c-multi-item-dialog--save-button">
      <button mat-fab color="primary" dir="ltr" [disabled]="!formsAreValid" [ngClass]="extendedSaveButtonIsReduced ? 'mat-fab--compact' : 'mat-fab--extended'"
        (click)="saveAll(true)">
        <i class="material-icons">done</i>
        {{extendedSaveButtonIsReduced ? '' : ('Button.Save' | translate).toUpperCase() + '(CTRL + S)' }}
      </button>
    </div>
  </div>
</div>