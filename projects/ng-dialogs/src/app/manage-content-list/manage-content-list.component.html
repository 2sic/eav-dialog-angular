<div mat-dialog-title>
  <div class="dialog-title-box">Manage content-item lists</div>
</div>

<router-outlet></router-outlet>

<ng-container *ngIf="header">
  <p class="dialog-description">
    You can manage the list header here (if it is defined):
  </p>

  <p class="dialog-description">
    <ng-container *ngIf="header.Type">
      <span>{{ header.Title }}</span>
      <button mat-icon-button matTooltip="Edit header" (click)="editHeader()">
        <mat-icon>edit</mat-icon>
      </button>
    </ng-container>
    <ng-container *ngIf="!header.Type">(this list has no header)</ng-container>
  </p>
</ng-container>

<p class="dialog-description sort-title">Sort the items by dragging as you need, then save:</p>

<div class="dnd-list" cdkDropList (cdkDropListDropped)="drop($event)">
  <div *ngFor="let item of items" class="dnd-item" cdkDrag>
    <div class="dnd-item__title">
      <mat-icon class="dnd-item__title-icon" matTooltip="Drag to reorder the list">drag_handle</mat-icon>
      <span class="dnd-item__title-text">{{ item.Title }} ({{ item.Id }})</span>
    </div>
    <div *ngIf="item.Id !== 0">
      <button mat-icon-button matTooltip="Edit item" (mousedown)="stopDnD($event)" (click)="editItem(item.Id)">
        <mat-icon>edit</mat-icon>
      </button>
    </div>
  </div>
</div>

<div class="dialog-actions-box">
  <button mat-raised-button (click)="closeDialog()">Cancel</button>
  <button mat-raised-button color="accent" (click)="saveList()">Save</button>
</div>
