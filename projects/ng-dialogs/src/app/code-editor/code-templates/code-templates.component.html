<div class="editor-active-explorer editor-fancy-scrollbar explorer-wrapper">

  <div>
    <ng-container *ngFor="let item of (tree | sortItems)">
      <ng-container *ngTemplateOutlet="fileOrFolder; context: {item: item}"></ng-container>
    </ng-container>

    <ng-template #fileOrFolder let-item="item">

      <div class="file" *ngIf="!item.isFolder" [style]="item.depth | depthPadding: item.isFolder"
        [ngClass]="{'active': toggledItems.includes(item) }" matTooltipShowDelay="750" [matTooltip]="item.name"
        (click)="openTemplate(item.pathFromRoot)">
        {{ item.name }}
      </div>

      <div *ngIf="item.isFolder">
        <div class="folder-name" [style]="item.depth | depthPadding: item.isFolder" matTooltipShowDelay="750"
          [matTooltip]="item.name" (click)="toggleItem(item)">
          <mat-icon>{{ toggledItems.includes(item) ? 'keyboard_arrow_down' : 'keyboard_arrow_right' }}</mat-icon>
          <span>{{ item.name }}</span>
        </div>

        <ng-container *ngIf="toggledItems.includes(item)">
          <ng-container *ngFor="let item1 of (item.children | sortItems)">
            <ng-container *ngTemplateOutlet="fileOrFolder; context: {item: item1}"></ng-container>
          </ng-container>
        </ng-container>
      </div>

    </ng-template>
  </div>

  <div class="create-button-wrapper">
    <button mat-icon-button matTooltip="Create file" (click)="addFile()">
      <mat-icon>add</mat-icon>
    </button>
  </div>
</div>
